<!--<section class="content">
  <div class="container-fluid">
    <div class="block-header">
      <div class="row">
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
          <ul class="breadcrumb breadcrumb-style ">
            <li class="breadcrumb-item">
              <h4 class="page-title">Ajouter des quizs</h4>
            </li>
            <li class="breadcrumb-item bcrumb-2">
              <a href="#" onClick="return false;">Quiz</a>
            </li>
            <li class="breadcrumb-item active">Ajout</li>
          </ul>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
        <div class="card">
          <div class="header">
            <h2>
              <strong>Ajouter</strong> quiz</h2>
          </div>


          <div class="modal-body">
            <form>
              <label>Nom du quiz</label>
              <div class="form-group">
                <div class="form-line">
                  <input type="text" name="quiz_name" [(ngModel)]="quiz.quizName" class="form-control"
                         placeholder="">
                </div>
              </div>
              <label>Description</label>
              <div class="form-group">
                <div class="form-line">
                  <input type="date" name="date" [(ngModel)]="quiz." class="form-control"
                         placeholder="">
                </div>
              </div>
              <label>Date de début</label>
              <div class="form-group">
                <div class="form-line">
                  <input type="date" name="start_date" [(ngModel)]="jobOffer.startDate" class="form-control"
                         placeholder="">
                </div>
              </div>
              <label>Date de fin </label>
              <div class="form-group">
                <div class="form-line">
                  <input type="date" name="end_date" [(ngModel)]="jobOffer.endDate" class="form-control"
                         placeholder="">
                </div>
              </div>

            </form>
          </div>
          <div align="right">
            <button type="button" (click)="addJobOffer()" class="btn-hover btn-border-radius color-1" >Ajouter</button>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>

-->
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center mt-5 pb-2 mb-3 border-bottom">
  <h1 class="h2">Gestion des Quiz</h1>

</div>


<br>

<!--afficher les offres d'emploi-->

<div *ngIf="div1">
  <table id="news-table" class="table tablesorter mb-5 tablesorter-default tablesorterebe97d3cffd22" role="grid" aria-labelledby="tablesorterebe97d3cffd22caption">
    <caption id="tablesorterebe97d3cffd22caption">
      Liste des Quiz    <a (click)="showAjout()" class="btn btn-sm btn-primary ml-3">Ajouter un quiz</a>
    </caption>
    <thead class="cf">
    <tr role="row" class="tablesorter-headerRow">
      <th scope="col" class="header tablesorter-header " data-column="1" tabindex="0" role="columnheader" aria-disabled="true" aria-controls="news-table"  aria-sort="none" aria-label="Title: No sort applied, activate to apply an ascending sort" style="user-select: none;"><div class="tablesorter-header-inner"><span>Nom</span></div></th>
      <th scope="col" class="header  " data-column="3" tabindex="0" role="columnheader" aria-disabled="true" aria-controls="news-table"  aria-label="Category: No sort applied, activate to apply an ascending sort" style="user-select: none;"><span>Date d'ajout</span>
      <th scope="col" class="header  " data-column="6" tabindex="0" role="columnheader" aria-disabled="true" aria-controls="news-table"  aria-label="Category: No sort applied, activate to apply an ascending sort" style="user-select: none;"><span>Etat</span>

      <th scope="col" class="header tablesorter-header  " data-column="4" role="columnheader" aria-disabled="true" unselectable="on" aria-sort="none" aria-label="Actions: No sort applied, sorting is disabled" style="user-select: none;"><div class="tablesorter-header-inner"><span>Actions</span></div></th>
    </tr>
    </thead>
    <tbody aria-live="polite" aria-relevant="all">
    <tbody aria-live="polite" aria-relevant="all">

    <tr role="row" *ngFor="let quiz of quizs">
      <td class="align-middle" ><a  (click)="openDetails(content,quiz.idQuiz)" ngbPopover="Cliquez pour voir plus de détails" triggers="mouseenter:mouseleave"><strong>{{quiz.quizName}}</strong></a></td>
      <td class="align-middle">{{quiz.date |  date: 'dd/MM/yyyy'}}</td>

      <td class="align-middle">
        <div *ngIf= "quiz.visible">
          <span  class="badge badge-lg badge-success">Valide</span>

        </div>
        <div *ngIf= "!quiz.visible">
          <span  class="badge badge-lg badge-danger">archived</span>

        </div>

      </td>
      <td >
        <a  (click)="showModif(quiz.idQuiz)" ngbPopover="Cliquez ici pour modifier ce quiz " triggers="mouseenter:mouseleave">
          <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-archive" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>





          </svg>

        </a>
        <a class="icon icon-Archive"   (click)="openArchive(content1,quiz.idQuiz)" ngbPopover="Cliquez ici pour archiver ce quiz " triggers="mouseenter:mouseleave">archiver</a>
      </td>

    </tr>
    </tbody>
  </table>
</div>

<!--Ajouter un Quiz-->
<div *ngIf="div2">
  <h2>Ajouter un Quiz</h2>
  <div class="row mb-3">
    <div class="col-sm-8">
      <div *ngIf="errorAdd" class="form-label-group">
        <div  class="alert alert-danger" role="alert">Veuillez remplir tous les champs</div>
      </div>
      <form    role="form" >

        <div class="form-group">
          <label for="inputName" class="is-required">Nom du quiz</label>
          <input type="text" class="form-control" id="inputName" required="" name="nom" [(ngModel)]="this.quiz.quizName">
        </div>

        <div *ngFor="let question of this.quiz.questionsList">
          <div class="form-group" >
            <label for="inputQuestion" class="is-required">{{question.question}}</label>
          </div>
          <div class="form-group" *ngFor="let option of question.optionList">
            <label for="inputQuestion" class="is-required">{{option.optionName}}</label>
          </div>

        </div>




        <!-- <div class="form-group">ggp
           <label  class="is-required">Skills</label>
           <ejs-multiselect id='localData' name='name'  #local='ngModel' [(value)]='value'[(ngModel)]='value' [dataSource]='skills' [fields]='localFields' [placeholder]='localWaterMark'></ejs-multiselect>


           </div>
              <div class="form-group has-warning">
                <label for="inputexperience" class="is-required">Année d'experience</label>
                <input type="number" class="form-control" id="inputexperience"  required="" name="anneeExperience" [(ngModel)]="this.offre.anneeExperience">
              </div>


              <div class="form-group ">
                <label for="manager" class="is-required">Manager</label>

                <select class="custom-select" name="manager" id="manager" (change)="setReplyTypeValue()" [(ngModel)]="this.offre.manager" >
                  <option value="" disabled selected>Veuillez choisir un manager</option>
                  <option value="{{manager.id}}" *ngFor="let manager of managers">{{manager.fNama}} {{manager.prenom}}</option>
                </select>
              </div>

              <div class="form-group " *ngIf="showEquipe">
                <label for="equipe" class="is-required">Equipe</label>

                <select class="custom-select" name="equipe" id="equipe" [(ngModel)]="this.offre.equipe">
                  <option value="" disabled selected>Veuillez choisir une equipe</option>
                  <option value="{{equipe.nom}}" *ngFor="let equipe of equipes">{{equipe.nom}}</option>
                </select>
              </div>
      -->
        <div class="btn-toolbar  ">
          <button type="submit" name="cancel" (click)="showOffrePage()" class="btn btn-secondary mx-1">Annuler</button>

          <button type="submit" name="submit" class="btn btn-primary " (click)="AjoutQuiz()">Ajouter</button>
        </div>
      </form>


        <div class="form-group">
          <label for="inputQuestion" class="is-required">questions</label>
          <input type="text" class="form-control"   [(ngModel)]="this.questionToAdd.question" >
        </div>
        <div class="form-group" *ngFor="let option of this.questionToAdd.optionList,let index = index">
          <label for="inputQuestion" class="is-required">Option {{index+1}}: </label>
          <input type="text" class="form-control" required="" [(ngModel)]="option.optionName" [ngModelOptions]="{standalone: true}">
          <input  class="form-control" required=""  [(ngModel)]="option.correct" type="checkbox" data-toggle="toggle" [ngModelOptions]="{standalone: true}">
        </div>
        <div class="btn-toolbar  ">

          <button  name="submit" class="btn btn-primary " (click)="AjoutQuestion()">Ajouter Question</button>
        </div>
    </div>
  </div>
</div>


<!--Modifier une offre d'emploi-->


<div *ngIf="div3" >
  <h2>Modifier un quiz</h2>
  <div class="row mb-3">
    <div class="col-sm-8">
      <div *ngIf="errorAdd" class="form-label-group">
        <div  class="alert alert-danger" role="alert">Veuillez remplir tous les champs</div>
      </div>
      <form role="form" >
        <div class="form-group">
          <label for="inputNamemodif" class="is-required">Nom</label>
          <input type="text" class="form-control" id="inputNamemodif" required="" name="titre" [(ngModel)]="modifQuiz.quizName">
        </div>
      <!--  <div class="form-group has-warning">
          <label for="inputEmailmodif" class="is-required" >Description</label>
          <textarea  class="form-control" id="inputEmailmodif" name="description" [(ngModel)]="modifQuiz.questionList"  required=""></textarea>
        </div>-->


        <!-- <div class="form-group ">
           <label for="etat" class="is-required" >Etat</label>

           <select class="custom-select" name="etat" id="etat"  [(ngModel)]="modifOffre.etat">
             <option value="actif">Active</option>
             <option value="archivé">Archivée</option>
           </select>
         </div>-->



        <div class="btn-toolbar ">
          <button type="submit" name="cancel" (click)="showOffrePage()" class="btn btn-secondary mx-1">Annuler</button>
          <button type="submit" name="submit" class="btn btn-primary " (click)="updateQuiz(this.modifQuiz.idQuiz)">Modifier</button>
        </div>
      </form>
    </div>
  </div></div>

<!--ici le modal -->
<ng-template #content let-modal>
  <div class="modal-header">
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-content border">

    <div class="modal-body">
      <h4 class="col-12 modal-title text-center" id="modal-basic-title">{{oneQuiz.quizName}}</h4>
      <br>
      <p><strong>Date : </strong>{{oneQuiz.date}} </p>
      <!--
         <p ><strong>Skills  : </strong>        <span *ngFor="let skill of OneOffre.skills ">{{skill}} , </span></p>
         <p><strong>Année d'experience : </strong>{{OneOffre.anneeExperience}}</p>
         <p><strong>Manger : </strong>{{OneOffre.manager}}</p>
         <p><strong>Equipe : </strong>{{OneOffre.equipe}}</p>
   -->

    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="modal.close('Close click')">Close</button>
  </div>
</ng-template>



<!--ici le modal Suppression -->
<ng-template #content1 let-modal>
  <div class="modal-header">
    <h4 class="modal-title" >Suppression</h4>
    <button type="button" class="close" aria-label="Close"  (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="alert alert-danger" role="alert">Voulez-vous vraiment archiver cette offre d'emploi ?</div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-default" data-dismiss="modal" (click)="modal.close('Close click')">Annuler</button>
    <button type="button" class="btn btn-danger" (click)="archiverQuiz()">Archiver</button>
  </div>
</ng-template>
